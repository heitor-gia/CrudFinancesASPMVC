@model Finances.Models.Entities.Expense
@{
    ViewBag.Title = "Edit";
}

<h2>Alterar despesa</h2>
<form action="/Expenses/Edit" method="post">
    <div class="form-horizontal">
        <div class="form-group">
            <label for="price">Valor</label>
            <input type="text" name="price" placeholder="Valor" pattern="[0-9,]*" class="form-control" value="@Model.price" />

        </div>
        <div class="form-group">
            <label for="date">Data</label>
            <input type="date" name="date" placeholder="Data" class="form-control" value="@String.Format("{0:yyyy-MM-dd}",Model.date)" />

        </div>
        <div class="form-group">
            <label for="id_category">Categoria</label>
            <select name="id_category" class="form-control">
                @foreach (var item in (ViewBag.categories as List<Finances.Models.Entities.Category>))
                {
                    <option value="@item.id" 
                            @{
                                if (item.id == Model.id_category)
                                {
                                    @:selected 
                                    }
                            }>
                    
                         @item.name
                     </option>
                }
            </select>

        </div>
        <div class="form-group">
            <label for="id_establishment">Categoria</label>
            <select name="id_establishment" class="form-control">
                @foreach (var item in (ViewBag.establishments as List<Finances.Models.Entities.Establishment>))
                {
                    <option value="@item.id"
                            @{ 
                                if (item.id == Model.id_establishment)
                                {
                                     @: selected
                                } 
                            }>

                        @item.name
                    </option>
                }
            </select>

        </div>
        <input type="hidden" name="id_user" value="@Model.id_user" />
        <input type="hidden" name="id" value="@Model.id" />
        <input type="submit" class="btn btn-success" value="Salvar" />
    </div>
</form>